/*! Immoral - v0.1.0 - 2013-09-27
* https://github.com/aniketpant/immoral
* Copyright (c) 2013 Aniket Pant; Licensed MIT */
!function(a){function b(){var b=a.immoral.settings,c=b.modalShadow;c||(a("body").append('<div class="'+b.modalShadowClass+'" style="display: none;"></div>'),a.immoral({modalShadow:a("."+b.modalShadowClass)}))}function c(b){var c=a.immoral.settings,d=a(b),e=d.attr("id");d.parent("."+c.modalWrapperClass).attr("class")!==c.modalWrapperClass&&(d.wrap(c.modalWrapper),a("#"+e+" ."+c.modalContentClass).append(c.content),a(c.modalCloseButton).attr("id",e+"_close"),d.prepend(c.modalCloseButton));var f=d.parent("."+c.modalWrapperClass);f.hide().attr("id",e+"-wrapper")}function d(b){var c=a.immoral.settings,d=a(b).parent("."+c.modalWrapperClass),e=c.modalShadow;e.fadeIn(),d.fadeIn()}function e(b){var c=a.immoral.settings;if(b){var d=a(b).parent("."+c.modalWrapperClass);d.fadeOut()}else a("."+c.modalClass).parent().fadeOut();var e=c.modalShadow;e.fadeOut()}function f(b){var c=a.immoral.settings;a("."+c.modalShadowClass).css(c.modalShadowStyle),a("."+c.modalWrapperClass).css(c.modalWrapperStyle),a("."+c.modalContentClass).css(c.modalContentStyle),a(b).css(c.modalStyle).show()}a.fn.immoral=function(g){var h={content:"",modalClass:"modal",modalShadowClass:"modal-shadow",modalWrapper:'<div class="modal-wrapper" />',modalWrapperClass:"modal-wrapper",modalCloseButton:'<a href="#" rel="modal:close">Close</a>',modalContentClass:"modal-content",modalShadow:!1,modalStyle:{width:"50%",height:"50%",margin:"0 auto",background:"white","text-align":"left"},modalShadowStyle:{position:"fixed","z-index":"10000000",background:"rgba(0,0,0,0.5)",width:"100%",height:"100%",left:"0px",top:"0px"},modalWrapperStyle:{width:"100%",margin:"0px",position:"fixed",top:"0px",left:"0px",height:"100%",display:"none","z-index":10000001,background:"transparent","text-align":"center"},modalContentStyle:{width:"100%",height:"100%"}};return a.immoral.settings=a.extend(!0,{},h,g),this.each(function(){c(this),b(),f(this),a("body").on("click",'a[rel="modal"]',function(b){b.preventDefault();var c=a(this).attr("href");d(c)}),a("."+a.immoral.settings.modalClass).on("click",'a[rel="modal:close"]',function(b){b.preventDefault();var c=a(this).attr("id");e(c)})})},a.fn.open=function(){d(this)},a.fn.close=function(){e(this)},a.immoral=function(b){return a.immoral.settings=a.extend(!0,{},a.immoral.settings,b),"immoralized"}}(jQuery);