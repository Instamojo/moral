/*! Immoral - v0.1.0 - 2013-09-23
* https://github.com/aniketpant/immoral
* Copyright (c) 2013 Aniket Pant; Licensed MIT */
!function(a){function b(){var b=a.immoral.options,c=b.modalShadow;c||(a("body").append(b.modalShadowDiv),b.modalShadow=a("#modal_shadow"))}function c(b){var c=a.immoral.options,d=a(b),e=d.attr("id");"modal-wrapper"!==d.parent(".modal-wrapper").attr("class")&&(d.wrap(c.modalWrapper),a("#"+e+" .modal--content").append(c.content),d.css(c.modalStyle).show(),a(c.modalCloseButton).attr("id",e+"_close"),d.prepend(c.modalCloseButton));var f=d.parent(".modal-wrapper");f.hide().attr("id",e+"-wrapper")}function d(b){var c=a.immoral.options,d=a(b).parent(".modal-wrapper"),e=c.modalShadow;e.fadeIn(),d.fadeIn()}function e(b){var c=a.immoral.options;if(b){var d=a(b).parent(".modal-wrapper");d.fadeOut()}else a(".modal").parent().fadeOut();var e=c.modalShadow;e.fadeOut()}a.fn.immoral=function(){return this.each(function(){c(this),b(),a("body").on("click",'a[rel="modal"]',function(b){b.preventDefault();var c=a(this).attr("href");d(c)}),a(".modal").on("click",'a[rel="modal:close"]',function(b){b.preventDefault();var c=a(this).attr("id");e(c)})})},a.fn.open=function(){d(this)},a.fn.close=function(){e(this)},a.immoral=function(b){return a.immoral.options=a.extend({},a.immoral.options,b),"immoralized"},a.immoral.options={content:"",modalShadowDiv:'<div id="modal_shadow" style="display:none;"></div>',modalWrapper:'<div class="modal-wrapper" />',modalCloseButton:'<a href="#" rel="modal:close">Close</a>',modalShadow:!1,modalStyle:{width:"50%",height:"50%",margin:"0 auto"}}}(jQuery);